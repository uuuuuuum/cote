<html>
    <head>
        <meta charset="UTF-8">
        <title>[04] 연속 부분수열 2</title>
    </head>
    <body>
        <script>
            function solution(N, M, arr) {
                let answer = 0;

                /*
                for(let i=0; i<N; i++) {
                    let calc = arr[i];

                    //arr[i]가 5이하면 바로 answer++
                    if(calc < M) {
                        answer++;
                    } 
                    
                    let num = i+1;
                    while(calc<M && num<N) {
                        //다음번째의 숫자를 더하고
                        calc += arr[num]

                        //바로 M이하 인지 확인해서 answer++시키기
                        //M이하여도 다음 바퀴때도(숫자를 3번더해도) M이하 일 수 있기 때문에 break 걸지 않음
                        if(calc<=M) {
                            answer++;
                        }
                        else {
                            break;
                        }
                        num++;
                    }
                }
                */
               
                
                //2 Pointer 알고리즘
                let lt = 0;
                let rt = 0;
                let calcNum = arr[lt];
                while(lt<arr.length && rt<arr.length) {
                    if(calcNum <= M) {
                        answer += rt - lt + 1;
                        rt++;
                        calcNum += arr[rt];
                    } else if(calcNum > M) {
                        calcNum -= arr[lt];
                        lt++;
                    }
                }
                return answer;

                /*
                //선생님 코드
                let lt = 0;
                let sum = 0;
                for(let rt=0; rt<arr.length; rt++) {
                    sum += arr[rt];
                    while(sum > M) {
                        sum -= arr[lt++];
                    } 
                    answer += rt - lt + 1;
                }
                */
            }
            let arr = [1, 3, 1, 2, 3]
            console.log(solution(5, 5, arr));
        </script>
    </body>
</html>